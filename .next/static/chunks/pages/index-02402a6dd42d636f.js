(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9828)}])},9828:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n(5893),i=n(7294);function r(){let[e,t]=(0,i.useState)([{role:"system",content:"You are a helpful assistant."}]),[n,r]=(0,i.useState)(""),[s,l]=(0,i.useState)(!1),a=(0,i.useRef)(null);(0,i.useEffect)(()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})},[e]);let d=async()=>{if(!n.trim())return;let o=[...e,{role:"user",content:n.trim()}];t(o),r(""),l(!0);try{var i,s,a,d,u,c,f;let e=await fetch("/api/openrouter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"openai/gpt-4o-mini",messages:o})});if(!e.ok){let t=await e.text();throw Error("Proxy error: ".concat(e.status," ").concat(t))}let n=await e.json(),r=(null==n?void 0:null===(a=n.choices)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:null===(i=s.message)||void 0===i?void 0:i.content)||(null==n?void 0:null===(u=n.output)||void 0===u?void 0:null===(d=u[0])||void 0===d?void 0:d.content)||(null==n?void 0:null===(f=n.choices)||void 0===f?void 0:null===(c=f[0])||void 0===c?void 0:c.text)||JSON.stringify(n);t(e=>[...e,{role:"assistant",content:r}])}catch(e){t(t=>[...t,{role:"assistant",content:"Error: "+String(e.message)}])}finally{l(!1)}};return(0,o.jsxs)("div",{style:{maxWidth:900,margin:"0 auto",padding:16},children:[(0,o.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,o.jsx)("h1",{children:"AI Chatbot"}),(0,o.jsx)("a",{href:"https://maps.google.com",target:"_blank",rel:"noreferrer",style:{color:"#1f8ceb"},children:"Google Maps"})]}),(0,o.jsxs)("main",{children:[(0,o.jsxs)("div",{style:{minHeight:360,borderRadius:8,background:"#fff",padding:12,border:"1px solid #e6e6e6",overflow:"auto"},children:[e.filter(e=>"system"!==e.role).map((e,t)=>(0,o.jsx)("div",{style:{display:"flex",margin:"8px 0"},children:(0,o.jsx)("div",{style:{background:"user"===e.role?"#cfe9ff":"#f1f1f1",borderRadius:10,padding:"10px 12px",maxWidth:"80%",marginLeft:"user"===e.role?"auto":void 0,marginRight:"assistant"===e.role?"auto":void 0},children:e.content})},t)),(0,o.jsx)("div",{ref:a})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,marginTop:8},children:[(0,o.jsx)("input",{value:n,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d()},placeholder:"Type your message and press Enter",style:{flex:1,padding:8,border:"1px solid #ddd",borderRadius:6}}),(0,o.jsx)("button",{onClick:d,disabled:s,style:{background:"#1f8ceb",color:"#fff",border:"none",padding:"8px 12px",borderRadius:6},children:s?"...":"Send"})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);